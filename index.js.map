{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/modal.js","../src/js/products-api.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["export const refs = {\n  allCategories: document.querySelector('.categories'),\n  allProducts: document.querySelector('.products'),\n  notFoundDiv: document.querySelector('.not-found'),\n  modal: document.querySelector('.modal'),\n  modalProduct: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector('.modal__close-btn')\n};","import { refs } from \"./refs.js\";\n\nexport function openModal() {\n  refs.modal.classList.add('modal--is-open');\n  document.body.style.overflow = 'hidden';\n};\n\nexport function closeModal() {\n  refs.modal.classList.remove('modal--is-open');\ndocument.body.style.overflow = '';\n\n};\n\nrefs.modal.addEventListener('click', e => {\n  if (e.target === refs.modal) closeModal();\n});\n\nif (refs.modalCloseBtn) {\n  refs.modalCloseBtn.addEventListener('click', closeModal);\n}","import axios from \"axios\";\n\naxios.defaults.baseURL = 'https://dummyjson.com';\nexport async function getAllCategories() {\n    const response = await axios.get('/products/category-list');\n    return response.data;\n};\n\nexport async function getAllProducts() {\n  const currentPage = 1;\n  const response = await axios.get(`/products?limit=12&skip=${(currentPage - 1) * 12}`);\n  console.log(response.data.products);\n  return response.data.products;\n};\n\n\nexport async function productsByCategory(category) {\n  const response = await axios.get(`/products/category/${category}`);\n  console.log(response.data.products)\n  return response.data.products;\n};\n\nexport async function productById(id) {\n  const response = await axios.get(`/products/${id}`);\n  console.log(response.data);\n  return response.data;\n\n};\n\n\nproductById(3);","import { refs } from \"./refs\";\n\nexport function renderCategoriesList(categories) {\n    refs.allCategories.innerHTML = '';\n   const markup =  categories.map(category => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${category}</button>\n </li>`).join('');\n    refs.allCategories.innerHTML = markup;\n};\n\n\n\nexport function renderProductsList(products) {\n  if (products.length === 0) {\n    refs.notFoundDiv.classList.add('not-found--visible');\n     return;\n  }\nrefs.notFoundDiv.classList.remove('not-found--visible');\n\n  refs.allProducts.innerHTML = '';\n  const markup = products.map(product => `<li class=\"products__item\" data-id=\"${product.id}\">\n    <img class=\"products__image\" src=\"${product.thumbnail}\" alt=\"${product.title}\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${product.brand}</span></p>\n    <p class=\"products__category\">Category:${product.category} </p>\n    <p class=\"products__price\">Price:${product.price} $</p>\n </li>`).join('');\n\n  refs.allProducts.innerHTML = markup;\n\n};\n\n\nexport function renderModalProduct(product) {\nrefs.modalProduct.innerHTML = `<img class=\"modal-product__img\" src=\"${product.thumbnail}\" alt=\"${product.title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${product.title}</p>\n        <ul class=\"modal-product__tags\">${product.tags?.map(tag => `<li class=\"modal-product__tag\">#${tag}</li>`).join('') || ''}</ul>\n        <p class=\"modal-product__description\">${product.description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping:${product.shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy:${product.returnPolicy}</p>\n        <p class=\"modal-product__price\">Price:${product.price} $</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>`\n};\n\n\n","\nimport { openModal } from \"./js/modal.js\";\nimport { getAllCategories, getAllProducts, productById, productsByCategory } from \"./js/products-api\";\nimport { refs } from \"./js/refs\";\nimport { renderCategoriesList, renderModalProduct, renderProductsList } from \"./js/render-function.js\";\n\ngetAllCategories();\n\nexport async function renderCategories () {\n  const categories = await getAllCategories();\n  const allCategories = ['All', ...categories];\n    renderCategoriesList(allCategories);\n};\n\nrenderCategories();\n\nexport async function renderProducts () {\n  const products = await getAllProducts();\n    renderProductsList(products);\n};\n\nrenderProducts();\n\nrefs.allCategories.addEventListener('click', async(e) => {\n  const clickedBtn = e.target.closest('.categories__btn');\n  if (!clickedBtn) {\n    return;\n  }\n  if (clickedBtn.textContent === 'All') {\n     const products = await getAllProducts();\n    renderProductsList(products);\n  }else{const productByCategory = await productsByCategory(clickedBtn.textContent);\n  renderProductsList(productByCategory);}\n\n});\n\nproductsByCategory();\n\nrefs.allProducts.addEventListener('click', async e => {\n  const li = e.target.closest('li[data-id]');\n  if (!li) return;\n\n  const productId = li.dataset.id;\n\n  const product = await productById(productId);\n  renderModalProduct(product);\n  openModal();\n\n});"],"names":["refs","openModal","closeModal","e","axios","getAllCategories","getAllProducts","response","productsByCategory","category","productById","id","renderCategoriesList","categories","markup","renderProductsList","products","product","renderModalProduct","tag","renderCategories","allCategories","renderProducts","clickedBtn","productByCategory","li","productId"],"mappings":"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"}