{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/handlers.js","../src/js/modal.js","../src/js/products-api.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["\n\nexport const refs = {\n  allCategories: document.querySelector('.categories'),\n  allProducts: document.querySelector('.products'),\n  notFoundDiv: document.querySelector('.not-found'),\n  modal: document.querySelector('.modal'),\n  modalProduct: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\n  searchForm: document.querySelector('.search-form'),\n  input: document.querySelector('.search-form__input'),\n  clearBtn: document.querySelector('.search-form__btn-clear')\n};","import { refs } from \"./refs.js\";\n\nexport function toggleNotFound(isVisible) {\n  refs.notFoundDiv.classList.toggle('.not-found--visible', isVisible)\n};","import { refs } from \"./refs.js\";\n\nexport function openModal() {\n  refs.modal.classList.add('modal--is-open');\n  document.body.style.overflow = 'hidden';\n};\n\nexport function closeModal() {\n  refs.modal.classList.remove('modal--is-open');\ndocument.body.style.overflow = '';\n\n};\n\nrefs.modal.addEventListener('click', e => {\n  if (e.target === refs.modal) closeModal();\n});\n\nif (refs.modalCloseBtn) {\n  refs.modalCloseBtn.addEventListener('click', closeModal);\n}","import axios from \"axios\";\n\naxios.defaults.baseURL = 'https://dummyjson.com';\nexport async function getAllCategories() {\n    const response = await axios.get('/products/category-list');\n    return response.data;\n};\n\nexport async function getAllProducts() {\n  const currentPage = 1;\n  const response = await axios.get(`/products?limit=12&skip=${(currentPage - 1) * 12}`);\n  console.log(response.data.products);\n  return response.data.products;\n};\n\n\nexport async function productsByCategory(category) {\n  const response = await axios.get(`/products/category/${category}`);\n  console.log(response.data.products)\n  return response.data.products;\n};\n\nexport async function productById(id) {\n  const response = await axios.get(`/products/${id}`);\n  console.log(response.data);\n  return response.data;\n\n};\n\nexport async function searchProductsByName(quary) {\n  const response = await axios.get(`/products/search?q=${quary}`);\n  console.log(response.data);\n  return response.data.products;\n}\n\n\n\nproductById(3);","import { refs } from \"./refs\";\n\nexport function renderCategoriesList(categories) {\n    refs.allCategories.innerHTML = '';\n   const markup =  categories.map(category => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${category}</button>\n </li>`).join('');\n    refs.allCategories.innerHTML = markup;\n};\n\n\n\nexport function renderProductsList(products) {\n  if (products.length === 0) {\n    refs.notFoundDiv.classList.add('not-found--visible');\n     return;\n  }\nrefs.notFoundDiv.classList.remove('not-found--visible');\n\n  refs.allProducts.innerHTML = '';\n  const markup = products.map(product => `<li class=\"products__item\" data-id=\"${product.id}\">\n    <img class=\"products__image\" src=\"${product.thumbnail}\" alt=\"${product.title}\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${product.brand}</span></p>\n    <p class=\"products__category\">Category:${product.category} </p>\n    <p class=\"products__price\">Price:${product.price} $</p>\n </li>`).join('');\n\n  refs.allProducts.innerHTML = markup;\n\n};\n\n\nexport function renderModalProduct(product) {\nrefs.modalProduct.innerHTML = `<img class=\"modal-product__img\" src=\"${product.thumbnail}\" alt=\"${product.title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${product.title}</p>\n        <ul class=\"modal-product__tags\">${product.tags?.map(tag => `<li class=\"modal-product__tag\">#${tag}</li>`).join('') || ''}</ul>\n        <p class=\"modal-product__description\">${product.description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping:${product.shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy:${product.returnPolicy}</p>\n        <p class=\"modal-product__price\">Price:${product.price} $</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>`\n};\n\n\n","\nimport { toggleNotFound } from \"./js/handlers.js\";\nimport { openModal } from \"./js/modal.js\";\nimport { getAllCategories, getAllProducts, productById, productsByCategory, searchProductsByName } from \"./js/products-api\";\nimport { refs } from \"./js/refs\";\nimport { renderCategoriesList, renderModalProduct, renderProductsList } from \"./js/render-function.js\";\n\ngetAllCategories();\n\nexport async function renderCategories () {\n  const categories = await getAllCategories();\n  const allCategories = ['All', ...categories];\n    renderCategoriesList(allCategories);\n};\n\nrenderCategories();\n\nexport async function renderProducts () {\n  const products = await getAllProducts();\n    renderProductsList(products);\n};\n\nrenderProducts();\n\nrefs.allCategories.addEventListener('click', async(e) => {\n  const clickedBtn = e.target.closest('.categories__btn');\n  if (!clickedBtn) {\n    return;\n  }\n  if (clickedBtn.textContent === 'All') {\n     const products = await getAllProducts();\n    renderProductsList(products);\n  }else{const productByCategory = await productsByCategory(clickedBtn.textContent);\n  renderProductsList(productByCategory);}\n\n});\n\nproductsByCategory();\n\nrefs.allProducts.addEventListener('click', async e => {\n  const li = e.target.closest('li[data-id]');\n  if (!li) return;\n\n  const productId = li.dataset.id;\n\n  const product = await productById(productId);\n  renderModalProduct(product);\n  openModal();\n\n});\n\nrefs.searchForm.addEventListener('submit', async (e) => {\n  e.preventDefault();\n  const query = refs.input.value.trim();\n\n  if (!query) return;\n\n  try {\n    const products = await searchProductsByName(query);\n     refs.allProducts.innerHTML = '';\n    renderProductsList(products.slice(0, 12));\n    toggleNotFound(products.length === 0);\n  } catch (error) {\n    console.error(error);\n  }\n});\n\nrefs.clearBtn.addEventListener('click', async () => {\n  refs.input.value = '';\n  refs.clearBtn.classList.remove('visible');\n\n  try {\n    const products = await getAllProducts();\n    renderProductsList(products);\n    toggleNotFound(false);\n  } catch (error) {\n    console.error(error);\n  }\n});\n\nrefs.input.addEventListener('input', () => {\n  const hasValue = refs.input.value.trim().length > 0;\n  refs.clearBtn.classList.toggle('visible', hasValue);\n})\n\n"],"names":["refs","toggleNotFound","isVisible","openModal","closeModal","e","axios","getAllCategories","getAllProducts","response","productsByCategory","category","productById","id","searchProductsByName","quary","renderCategoriesList","categories","markup","renderProductsList","products","product","renderModalProduct","tag","renderCategories","allCategories","renderProducts","clickedBtn","productByCategory","li","productId","query","error","hasValue"],"mappings":"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"}