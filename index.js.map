{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/handlers.js","../src/js/storage.js","../src/js/helpers.js","../src/js/modal.js","../src/js/products-api.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["\n\nexport const refs = {\n  allCategories: document.querySelector('.categories'),\n  allProducts: document.querySelector('.products'),\n  notFoundDiv: document.querySelector('.not-found'),\n  modal: document.querySelector('.modal'),\n  modalProduct: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\n  searchForm: document.querySelector('.search-form'),\n  input: document.querySelector('.search-form__input'),\n  clearBtn: document.querySelector('.search-form__btn-clear'),\n  addToCartBtn: document.querySelector('.modal-product__btn--cart'),\n  addToWishListBtn: document.querySelector('.modal-product__btn--wishlist'),\n  cartCount: document.querySelector('[data-cart-count]'),\n};","import { refs } from \"./refs.js\";\n\nexport function toggleNotFound(isVisible) {\n  refs.notFoundDiv.classList.toggle('.not-found--visible', isVisible)\n};","// export function getCart() {\n//   return JSON.parse(localStorage.getItem('cart')) || [];\n// };\n\n// export function saveCart(cart) {\n//   localStorage.setItem('cart', JSON.stringify(cart));\n// };\n\n// export function isInCart(productId) {\n//   const cart = getCart();\n//   return cart.includes(productId);\n// };\n\n// export function addToCart(productId) {\n//   const cart = getCart();\n//   if (!cart.includes(productId)) {\n//     cart.push(productId);\n//     saveCart(cart);\n//   }\n// };\n\n// export function removeFromcart(productId) {\n//   const cart = getCart().filter(id => id !== productId);\n//   saveCart(cart);\n// }\n\nexport function getCart() {\n  return JSON.parse(localStorage.getItem('cart')) || [];\n}\n\nexport function addToCart(id) {\n  const cart = getCart();\n  if (!cart.includes(id)) {\n    cart.push(id);\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n}\n\nexport function removeFromCart(id) {\n  let cart = getCart();\n  cart = cart.filter(item => item !== id);\n  localStorage.setItem('cart', JSON.stringify(cart));\n}\n","import { refs } from \"./refs.js\";\nimport { getCart } from \"./storage.js\";\n\nexport function updateCartCount() {\n  const countEl = refs.cartCount;\n  const cart = getCart();\n  countEl.textContent = cart.length;\n}","import { refs } from \"./refs.js\";\nimport { addToCart, removeFromCart, getCart } from \"./storage.js\";\nimport { updateCartCount } from \"./helpers.js\";\n\nexport function openModal() {\n  refs.modal.classList.add('modal--is-open');\n  document.body.style.overflow = 'hidden';\n};\n\nexport function closeModal() {\n  refs.modal.classList.remove('modal--is-open');\ndocument.body.style.overflow = '';\n\n};\n\nrefs.modal.addEventListener('click', e => {\n  if (e.target === refs.modal) closeModal();\n});\n\nif (refs.modalCloseBtn) {\n  refs.modalCloseBtn.addEventListener('click', closeModal);\n}\n\n// export function openProductModal(product) {\n//   const btn = refs.modalCloseBtn;\n//   const inCart = isInCart(product.id.toString());\n//   btn.textContent = inCart ? 'Remove from Cart' : 'Add to cart';\n\n\n//   btn.addEventListener('click', () => {\n//     const isNowInCart = isInCart(product.id.toString());\n\n//     if (isNowInCart) {\n//       removeFromcart(product.id.toString());\n//       btn.textContent = 'Add to cart';\n//     } else {\n//       addToCart(product.id.toString());\n//       btn.textContent = 'Remove from Cart';\n//     }\n//   });\n\n//   updateCartCount();\n// };\n\nexport function openProductModal(product) {\n  const cartBtn = document.querySelector('.modal-product__btn--cart');\n  if (!cartBtn) return;\n\n  const id = String(product.id);\n  const cart = getCart();\n\n  const inCart = cart.includes(id);\n  cartBtn.textContent = inCart ? 'Remove from Cart' : 'Add to Cart';\n\n\n  cartBtn.onclick = () => {\n    const cart = getCart();\n    const inCart = cart.includes(id);\n\n    if (inCart) {\n      removeFromCart(id);\n      cartBtn.textContent = 'Add to Cart';\n    } else {\n      addToCart(id);\n      cartBtn.textContent = 'Remove from Cart';\n    }\n    updateCartCount();\n  };\n\n}","import axios from \"axios\";\n\naxios.defaults.baseURL = 'https://dummyjson.com';\nexport async function getAllCategories() {\n    const response = await axios.get('/products/category-list');\n    return response.data;\n};\n\nexport async function getAllProducts() {\n  const currentPage = 1;\n  const response = await axios.get(`/products?limit=12&skip=${(currentPage - 1) * 12}`);\n  console.log(response.data.products);\n  return response.data.products;\n};\n\n\nexport async function productsByCategory(category) {\n  const response = await axios.get(`/products/category/${category}`);\n  console.log(response.data.products)\n  return response.data.products;\n};\n\nexport async function productById(id) {\n  const response = await axios.get(`/products/${id}`);\n  console.log(response.data);\n  return response.data;\n\n};\n\nexport async function searchProductsByName(quary) {\n  const response = await axios.get(`/products/search?q=${quary}`);\n  console.log(response.data);\n  return response.data.products;\n}\n\n\n\nproductById(3);","import { refs } from \"./refs\";\n\nexport function renderCategoriesList(categories) {\n    refs.allCategories.innerHTML = '';\n   const markup =  categories.map(category => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${category}</button>\n </li>`).join('');\n    refs.allCategories.innerHTML = markup;\n};\n\n\n\nexport function renderProductsList(products) {\n  if (products.length === 0) {\n    refs.notFoundDiv.classList.add('not-found--visible');\n     return;\n  }\nrefs.notFoundDiv.classList.remove('not-found--visible');\n\n  refs.allProducts.innerHTML = '';\n  const markup = products.map(product => `<li class=\"products__item\" data-id=\"${product.id}\">\n    <img class=\"products__image\" src=\"${product.thumbnail}\" alt=\"${product.title}\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${product.brand}</span></p>\n    <p class=\"products__category\">Category:${product.category} </p>\n    <p class=\"products__price\">Price:${product.price} $</p>\n </li>`).join('');\n\n  refs.allProducts.innerHTML = markup;\n\n};\n\n\nexport function renderModalProduct(product) {\nrefs.modalProduct.innerHTML = `<img class=\"modal-product__img\" src=\"${product.thumbnail}\" alt=\"${product.title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${product.title}</p>\n        <ul class=\"modal-product__tags\">${product.tags?.map(tag => `<li class=\"modal-product__tag\">#${tag}</li>`).join('') || ''}</ul>\n        <p class=\"modal-product__description\">${product.description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping:${product.shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy:${product.returnPolicy}</p>\n        <p class=\"modal-product__price\">Price:${product.price} $</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>`\n};\n\n\n","\nimport { toggleNotFound } from \"./js/handlers.js\";\nimport { updateCartCount } from \"./js/helpers.js\";\nimport { openModal, openProductModal } from \"./js/modal.js\";\nimport { getAllCategories, getAllProducts, productById, productsByCategory, searchProductsByName } from \"./js/products-api\";\nimport { refs } from \"./js/refs\";\nimport { renderCategoriesList, renderModalProduct, renderProductsList } from \"./js/render-function.js\";\nupdateCartCount();\ngetAllCategories();\n\nexport async function renderCategories () {\n  const categories = await getAllCategories();\n  const allCategories = ['All', ...categories];\n    renderCategoriesList(allCategories);\n};\n\nrenderCategories();\n\nexport async function renderProducts () {\n  const products = await getAllProducts();\n    renderProductsList(products);\n};\n\nrenderProducts();\n\nrefs.allCategories.addEventListener('click', async(e) => {\n  const clickedBtn = e.target.closest('.categories__btn');\n  if (!clickedBtn) {\n    return;\n  }\n  if (clickedBtn.textContent === 'All') {\n     const products = await getAllProducts();\n    renderProductsList(products);\n  }else{const productByCategory = await productsByCategory(clickedBtn.textContent);\n  renderProductsList(productByCategory);}\n\n});\n\nproductsByCategory();\n\nrefs.allProducts.addEventListener('click', async e => {\n  const li = e.target.closest('li[data-id]');\n  if (!li) return;\n\n  const productId = li.dataset.id;\n\n  const product = await productById(productId);\nrenderModalProduct(product);\n  openProductModal(product);\n  openModal();\n\n});\n\nrefs.searchForm.addEventListener('submit', async (e) => {\n  e.preventDefault();\n  const query = refs.input.value.trim();\n\n  if (!query) return;\n\n  try {\n    const products = await searchProductsByName(query);\n     refs.allProducts.innerHTML = '';\n    renderProductsList(products.slice(0, 12));\n    toggleNotFound(products.length === 0);\n  } catch (error) {\n    console.error(error);\n  }\n});\n\nrefs.clearBtn.addEventListener('click', async () => {\n  refs.input.value = '';\n  refs.clearBtn.classList.remove('visible');\n\n  try {\n    const products = await getAllProducts();\n    renderProductsList(products);\n    toggleNotFound(false);\n  } catch (error) {\n    console.error(error);\n  }\n});\n\nrefs.input.addEventListener('input', () => {\n  const hasValue = refs.input.value.trim().length > 0;\n  refs.clearBtn.classList.toggle('visible', hasValue);\n})\n\n\n\n"],"names":["refs","toggleNotFound","isVisible","getCart","addToCart","id","cart","removeFromCart","item","updateCartCount","countEl","openModal","closeModal","e","openProductModal","product","cartBtn","inCart","axios","getAllCategories","getAllProducts","response","productsByCategory","category","productById","searchProductsByName","quary","renderCategoriesList","categories","markup","renderProductsList","products","renderModalProduct","tag","renderCategories","allCategories","renderProducts","clickedBtn","productByCategory","li","productId","query","error","hasValue"],"mappings":"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"}